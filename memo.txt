merke: code screenshot VSCode addon

Die folgende Datenbank soll die Idee des Buchhändlers aufgreifen. Dabei werden jedoch Vereinfachungen vorgenommen und die Komplexität des Projekts zu reduzieren. Alle Entitäten und Relationen bleiben aber erhalten.

Ein Kunde – hier contacts – hat eine ID, Vornamen, Nachname, eine E-Mail - Adresse und eine Telefonnummer

Ein Buch – hier books – hat als Primärschlüssel eine ISBN (die der Einfachheit halber vom System vergeben wird und nicht den Vorgaben einer ISBN entsprechen muss) außerdem noch die Attribute Titel, Autor und Preis.

Ein Verlag hat eine ID , einen Sitz und einen Namen.

Die Darstellung hat eine ID sowie Bewertung und als boolesches Attribut die Verfügbarkeit(wobei diese nicht im Bezug zu einem Lagerbestand gesehen werden soll, sondern die allgemeine Lieferbarkeit repräsentiert.)

Verlage veröffentlichen Bücher und Kunden bestellen eine vorgegebene Anzahl an Büchern, außerdem besitzt jedes Buch eine Darstellung.

-- Darstellung(_D-ID_, Bewertung, Verfügbarkeit, ^ISBN)
CREATE TABLE IF NOT EXISTS Darstellung(
  D_ID INTEGER PRIMARY KEY,
  Verfügbarkeit INTEGER NOT NULL,
  ISBN INTEGER NOT NULL,
  Bewertung TEXT,

  primary key(D_ID),
  foreign key(ISBN) references Books(ISBN)
    on UPDATE: Cascade
    on DELETE: Cascade
)

-- Verlag(_V-ID_, Sitz, Name)
CREATE TABLE IF NOT EXISTS Verlag(
  V_ID INTEGER PRIMARY KEY,
  Name TEXT NOT NULL UNIQUE,
  Sitz TEXT NOT NULL,

  primary key(V_ID)
)

-- Contacts(__C-ID__, Vorname, Nachmane, E-Mail, Adresse, Telefonnummer)
CREATE TABLE IF NOT EXISTS Contacts(
  C_ID INTEGER PRIMARY KEY,
  E_Mail TEXT NOT NULL UNIQUE,
  Nachname TEXT NOT NULL,
  Vorname TEXT NOT NULL,
  Adresse TEXT NOT NULL,
  Telnummer TEXT,

  primary key(C_ID)
)

-- Books(_ISBN_, Titel, Autor, Preis, ^V-ID)
CREATE TABLE IF NOT EXISTS Books (
  ISBN INTEGER PRIMRAY KEY,
  Titel TEXT NOT NULL UNIQUE,
  Autor TEXT NOT NULL,
  Preis FLOAT NOT NULL,
  V_ID INTEGER NOT NULL,

  primary key(ISBN),
  foreign key(V_ID) references Verlag(V_ID)
    on DELETE: Cascade
    on UPDATE: Cascade
)

-- Bestellen(__^ISBN, __^C-ID__, Anzahl)
CREATE TABLE IF NOT EXISTS Bestellen(
  ISBN INTEGER NOT NULL,
  C_ID INETGER NOT NULL,
  Anzahl INTEGER NOT NULL,

  primary key(ISBN, C_ID),
  foreign key(ISBN) references Books(ISBN)
    ON DELETE: CASCADE
    ON UPADTE: CASCADE,
  foreign key(C_ID) references Contacts(C_ID)
    ON DELETE: CASCADE
    ON UPADTE: CASCADE
)